<div class="content-container">
  <div class="container">
    <main>
      <chef-breadcrumbs>
        <chef-breadcrumb [link]="['/settings/data-feeds']">Data Feed</chef-breadcrumb>
        {{ destination?.name }}
      </chef-breadcrumbs>
      <chef-page-header>
        <div class="">
          <chef-heading class="btn-alignleft">{{ destination?.name }}</chef-heading>
          <div class="btn-alignright">
            <label for="enableDatafeed" class="btn-data-feed btn-Enable">Enable</label>
            <label for="disableDatafeed" class="btn-data-feed btn-Disable">Disable</label>
            <label for="deleteDatafeed" class="btn-data-feed btn-Delete">Delete</label>
          </div>
        </div>

        <table>
          <thead>
            <tr class="detail-row">
              <th class="header-column">SERVICE</th>
              <th class="header-column">INTEGRATION TYPE</th>
            </tr>
          </thead>
          <tbody>
            <tr class="detail-row">
              <td class="header-column">Servicenow</td>
              <td class="header-column">Webhook</td>
              <!-- <td class="header-column" data-cy="destination-url">{{ destination?.url }}</td> -->
              <!-- <td class="header-column" data-cy="destination-url">{{ destination?.url }}</td> -->
            </tr>
          </tbody>
        </table>
        <chef-tab-selector [value]="tabValue">
          <chef-option value='details'>Details</chef-option>
        </chef-tab-selector>
      </chef-page-header>
      <section class="page-body alignleft">
        <form [formGroup]="updateForm">
          <chef-form-field>
            <label for="name">Name <span aria-hidden="true">*</span></label>
            <input chefInput id="name" formControlName="name" type="text" [resetOrigin]="saveSuccessful" autocomplete="off" data-cy="name-input"/>
            <chef-error *ngIf="(nameCtrl.hasError('required') || nameCtrl.hasError('pattern')) && nameCtrl.dirty">
              Name is required.
            </chef-error>
          </chef-form-field>
          <chef-form-field>
            <label for="url">Data Feed URL <span aria-hidden="true">*</span></label>
            <input chefInput id="url" formControlName="url" type="text" [resetOrigin]="saveSuccessful" autocomplete="off" data-cy="url-input"/>
            <chef-error *ngIf="(urlCtrl.hasError('required') || urlCtrl.hasError('pattern')) && urlCtrl.dirty">
              Data Feed URL is required.
            </chef-error>
          </chef-form-field>
        </form>
        <div>
          <chef-button primary [disabled]="testInProgress" (click)="sendTestForDataFeedUrl()">
            <chef-loading-spinner *ngIf="testInProgress"></chef-loading-spinner>
            <span *ngIf="testInProgress">Testing...</span>
            <span *ngIf="!testInProgress">Test Data Feed</span>
          </chef-button>
        </div>
        <div>
          <chef-button tertiary>
            <!-- <chef-loading-spinner *ngIf="saveInProgress"></chef-loading-spinner> -->
            <!-- <span *ngIf="saveInProgress">Saving...</span> -->
            <span >Cancel</span>
          </chef-button>
          <chef-button primary [disabled]="saveInProgress || !updateForm.valid || !updateForm.dirty" (click)="saveDataFeed()">
            <chef-loading-spinner *ngIf="saveInProgress"></chef-loading-spinner>
            <span *ngIf="saveInProgress">Saving...</span>
            <span *ngIf="!saveInProgress">Save</span>
          </chef-button>

        </div>
      </section>
      <section class="page-body alignright">
        <chef-card>
          <span style='display:block; padding: 1em 0;' slot='label'>This is the card's label</span>
          <p>Once upon a midnight dreary, while I pondered, weak and weary. Over many a
             quaint and curious volume of forgotten lore. While I nodded, nearly napping,
             suddenly there came a tapping. As of some one gently rapping, rapping at my
             chamber door. 'Tis some visiter, I muttered, tapping at my chamber door. Only
             this, and nothing more. Ah, distinctly I remember it was in the bleak December.
             And each separate dying ember wrought its ghost upon the floor. Eagerly I wished
             the morrow;—vainly I had sought to borrow. From my books surcease of
             sorrow—sorrow for the lost Lenore. For the rare and radiant maiden whom the
             angels name Lenore. Nameless here for evermore. And the silken sad uncertain
             rustling of each purple curtain Thrilled me, filled me with fantastic terrors</p>
        </chef-card>
      </section>
    </main>
  </div>
</div>
